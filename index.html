<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BeatSense: Python-Based Arrhythmia Detection</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
    .hero-gradient { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); }
    .section-title { @apply text-3xl font-bold text-gray-800 mb-2 text-center; }
    .section-subtitle { @apply text-lg text-gray-600 mb-8 text-center max-w-3xl mx-auto; }
    .card { @apply bg-white rounded-xl shadow-lg p-6 transition-transform transform hover:-translate-y-2; }
    .team-member-card { @apply bg-white rounded-xl shadow-md p-6 text-center transition-all duration-300 hover:shadow-xl hover:scale-105; }
    .loader { border: 4px solid #f3f3f3; border-radius: 50%; border-top: 4px solid #3b82f6; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: auto; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>

<body class="text-gray-700">
  <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
    <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
      <a href="#" class="text-2xl font-bold text-gray-800"><span class="text-blue-600">Beat</span>Sense ðŸ©º</a>
      <div class="hidden md:flex space-x-6">
        <a href="#home" class="text-gray-600 hover:text-blue-600 transition">Home</a>
        <a href="#introduction" class="text-gray-600 hover:text-blue-600 transition">Introduction</a>
        <a href="#methodology" class="text-gray-600 hover:text-blue-600 transition">Methodology</a>
        <a href="#live-demo" class="text-gray-600 hover:text-blue-600 transition">Live Demo</a>
        <a href="#team" class="text-gray-600 hover:text-blue-600 transition">The Team</a>
      </div>
    </nav>
  </header>

  <main>
    <section id="home" class="hero-gradient text-white">
      <div class="container mx-auto px-6 py-20 md:py-32 text-center">
        <h1 class="text-4xl md:text-6xl font-extrabold mb-4 leading-tight">BeatSense: Python-Based Arrhythmia Detection</h1>
        <p class="text-xl md:text-2xl mb-8 max-w-4xl mx-auto text-blue-100">
          A software-based system for ECG signal processing to detect and classify cardiac arrhythmias using digital signal processing and machine learning.
        </p>
        <a href="#live-demo" class="bg-white text-blue-600 font-bold py-3 px-8 rounded-full text-lg hover:bg-blue-100 transition-all duration-300 transform hover:scale-105 shadow-lg">
          Try the Live Demo
        </a>
      </div>
    </section>

    <section id="introduction" class="py-20 bg-white">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Introduction</h2>
        <p class="section-subtitle max-w-3xl mx-auto text-center text-gray-600">
          BeatSense is a system that automatically detects arrhythmias from ECG signals using Python signal processing.
        </p>
      </div>
    </section>

    <section id="methodology" class="py-20 bg-gray-50">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Methodology</h2>
        <p class="section-subtitle">
          The system processes ECG signals through filtering, feature extraction, and classification into Normal, Bradycardia, or Tachycardia rhythms.
        </p>
      </div>
    </section>

    <section id="live-demo" class="py-20 bg-blue-50">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Live Analysis Demo</h2>
        <p class="section-subtitle">Select a record from the MIT-BIH dataset to analyze using BeatSense.</p>

        <div class="max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-200">
          <div class="mb-6">
            <label for="ecg-record-select" class="block text-lg font-medium text-gray-700 mb-2">Choose Record:</label>
            <select id="ecg-record-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2.5">
              <option value="">Select a Record...</option>
              <option value="100">Record 100</option>
              <option value="101">Record 101</option>
              <option value="102">Record 102</option>
              <option value="103">Record 103</option>
              <option value="104">Record 104</option>
            </select>
          </div>
          <button id="analyze-button" class="w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
            Analyze ECG Signal
          </button>
        </div>

        <div id="results-area" class="max-w-4xl mx-auto mt-12 hidden">
          <div id="loader-container" class="text-center">
            <div class="loader"></div>
            <p class="text-lg text-gray-600 mt-4 font-semibold">Analyzing signal... Please wait.</p>
          </div>

          <div id="report-container" class="hidden">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Analysis Complete: Results</h3>
            <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
              <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="space-y-4">
                  <div class="pb-3 border-b border-gray-200">
                    <p class="text-sm text-gray-500">Record</p>
                    <p id="result-file-name" class="font-bold text-lg text-gray-800"></p>
                  </div>
                  <div>
                    <p class="text-sm text-gray-500">Heart Rate</p>
                    <p id="result-bpm" class="font-bold text-xl"></p>
                  </div>
                  <div>
                    <p class="text-sm text-gray-500">Classification</p>
                    <p id="result-classification" class="font-bold text-lg text-gray-800"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <section id="team" class="py-20 bg-white">
      <div class="container mx-auto px-6">
        <h2 class="section-title">The Research Team</h2>
        <p class="section-subtitle">Meet the minds behind BeatSense.</p>
        <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-8">
          <div class="team-member-card"><h3 class="text-xl font-bold">Shena Marie Espelita</h3><p class="text-blue-600">Researcher</p></div>
          <div class="team-member-card"><h3 class="text-xl font-bold">Jashley Mae Alcances</h3><p class="text-blue-600">Researcher</p></div>
          <div class="team-member-card"><h3 class="text-xl font-bold">Ylona Leigh Balahadia</h3><p class="text-blue-600">Researcher</p></div>
          <div class="team-member-card"><h3 class="text-xl font-bold">Mhekyla D. Ramirez</h3><p class="text-blue-600">Researcher</p></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-white text-center py-8">
    <h3 class="text-2xl font-bold"><span class="text-blue-400">Beat</span>Sense</h3>
    <p class="mt-2 text-gray-400">Advancing cardiac health through signal processing.</p>
    <p class="text-gray-500 text-sm mt-2">Â© 2025 BeatSense Research Team</p>
  </footer>

  <script>
    const recordSelect = document.getElementById('ecg-record-select');
    const analyzeButton = document.getElementById('analyze-button');
    const resultsArea = document.getElementById('results-area');
    const loaderContainer = document.getElementById('loader-container');
    const reportContainer = document.getElementById('report-container');
    const resultFileName = document.getElementById('result-file-name');
    const resultBpm = document.getElementById('result-bpm');
    const resultClassification = document.getElementById('result-classification');

    recordSelect.addEventListener('change', () => {
      analyzeButton.disabled = !recordSelect.value;
    });

    analyzeButton.addEventListener('click', () => {
      if (!recordSelect.value) return;
      resultsArea.classList.remove('hidden');
      loaderContainer.classList.remove('hidden');
      reportContainer.classList.add('hidden');

      fetch('/analyze', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ record_id: recordSelect.value })
      })
      .then(response => response.json())
      .then(data => {
        loaderContainer.classList.add('hidden');
        reportContainer.classList.remove('hidden');

        if (data.error) {
          resultFileName.textContent = "Error";
          resultClassification.textContent = data.error;
          return;
        }

        resultFileName.textContent = data.record;
        resultBpm.innerHTML = data.heart_rate + " <span class='text-base font-normal text-gray-600'>bpm</span>";
        resultClassification.textContent = data.classification;

        if (data.classification === "Tachycardia") {
          resultBpm.className = 'font-bold text-xl text-red-600';
        } else if (data.classification === "Bradycardia") {
          resultBpm.className = 'font-bold text-xl text-yellow-600';
        } else {
          resultBpm.className = 'font-bold text-xl text-green-600';
        }
      })
      .catch(err => {
        loaderContainer.classList.add('hidden');
        resultFileName.textContent = "Error";
        resultClassification.textContent = "Connection error: " + err.message;
      });
    });
  </script>
</body>
</html>
